---
zsh_user_group: "{% if ansible_os_family == 'Darwin' %}staff{% else %}{{ zsh_user }}{% endif %}"
zsh_antigen_path: "{% if zsh_shared %}/usr/share/zsh-config{% else %}~{{ zsh_user }}/.antigen{% endif %}"
zsh_config: "{% if zsh_shared %}/usr/share/zsh-config/.zshrc{% else %}~{{ zsh_user }}/.zshrc{% endif %}"
zsh_antigen_path_compat: "{{ zsh_antigen_path | replace('~' + zsh_user, '$HOME') }}"

zsh_fzf_os: linux
zsh_fzf_arch: "{% if '64' in ansible_architecture %}amd64{% else %}386{% endif %}"
zsh_fzf_url: "https://github.com/junegunn/fzf/releases/download/{{ zsh_fzf_version.stdout }}/fzf-{{ zsh_fzf_version.stdout }}-{{ zsh_fzf_os }}_{{ zsh_fzf_arch }}.tar.gz"
zsh_antigen_fzf_path: "{{ zsh_antigen_path }}/repos/https-COLON--SLASH--SLASH-github.com-SLASH-junegunn-SLASH-fzf.git"
zsh_fzf_default_opts: "--height {{ zsh_fzf_height }}{% if zsh_fzf_reverse %} --reverse{% endif %}{% if zsh_fzf_border %} --border{% endif %}"

# https://docs.ansible.com/ansible/latest/user_guide/playbooks_conditionals.html#ansible-facts-distribution

_pkg_requirements:
  default:
    - zsh
    - git
    - yadm
    - wget
    - ruby
    - ruby-dev
    - keychain
    - whois
    - curl
    - traceroute
    - jq
    - zip
    - attr
    - sysstat
    - lnav
  Debian:
    - default-mysql-client
    - ipcalc
    - dnsutils
    - aptitude
    - perl-doc
    - procps
    - man-db
    - telnet
    - mtr
    - gpg
  Ubuntu:
    - mysql-client
    - ipcalc
    - dnsutils
    - aptitude
    - nmap
    - moreutils
    - percona-toolkit
    - perl-doc
  CentOS:
    - MariaDB-client
    - bind-utils
    - bash-completion
    - nmap

pkg_requirements: "{% if 'kali' in ansible_distribution_release %}{{_pkg_requirements['default'] + _pkg_requirements['Debian']}}{% else %}{{ _pkg_requirements['default'] + _pkg_requirements[ansible_distribution] }}{% endif %}"

_python_requirements:
  Debian:
    - python3
    - python3-pip
  RedHat:
    - python3

python_requirements: "{{ _python_requirements[ansible_os_family] }}"

pip_packages:
  - ansible
  - molecule-docker
  - yamllint
  - ansible-lint
  - lastversion
